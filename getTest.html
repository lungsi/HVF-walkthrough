<!DOCTYPE html>

<html>

   <head>
      <meta name="description"
	     content="Walkthrough of Validation Framework Platform" />
      <title>Dive into HVF Platform</title>
	  <link rel="stylesheet" href="validation_guidebook.css" />
   </head>

   <body onload="javascript:clearCurrentLink()">
      <div id="BodyContainer">
	     <!-- Header -->
	     <div>
		    <a href="https://humanbrainproject.eu"><img src="imgs/HBP_Logo.png" alt="HBP Logo" class="logo" /></a>
			<!-- Subject Title -->
		    <div id="SubjHeading">Walkthrough of Validation Framework Platform</div>
			<br style="clear: both;" />
		 </div>
		 <!-- Menu Panel -->
	     <div id="MenuBox">
                &#x2219;&nbsp;<a href="index.html">Table of Contents.</a><br />
                &#x2219;&nbsp;<a href="install-setup.html">Installation and Set-up.</a><br />
		&#x2219;&nbsp;<a href="getModel.html">Choosing and Loading a Model.</a><br />
		&#x2219;&nbsp;Choosing and Loading a Test.<br />
                &#x2219;&nbsp;<a href="runTestonModel.html">Running the Desired Validation Test On the Chosen Model.</a><br />
                &#x2219;&nbsp;<a href="storeData.html">Store the Data of the Results and then Register.</a><br />
                &#x2219;&nbsp;<a href="runScript.html">All the above from a python script.</a><br />
	     </div>
	     <!-- Main Content -->
	     <div id="ContentBox">
		    <p>
	               <h1>Choosing and Loading a Desired Validation Test.</h1>
                    </p>
		    <p>
		       <img src="imgs/HVF_Test.gif" alt="HVF Test Catalog"  class="Fullcentered" />
		    </p>
                    <p>
		       <h2>Purpose</h2>
		    </p>
		    <p>
			   From the <a target="_blank" href="https://validation.brainsimulation.eu/">HVF</a> validation tests catalog you want to download test definitions of a particular chosen test.
			</p>
			<p>
			   <h2>How to.</h2>
			</p>
			<p>
			   Let us say we want to run the validation seen here. The link to this test is, <a target="_blank" href="https://validation.brainsimulation.eu/view/tests/1">https://validation.brainsimulation.eu/view/tests/1</a>. This is the depolarization block test (see image).
                        </p>
                        <p>
                           The <a target="_blank" href="https://validation.brainsimulation.eu/view/tests/1">tabular view</a> of the depolarization block test is derived from the test defined as the <a target="_blank" href="https://validation.brainsimulation.eu/tests/1">JavaScript Object Notation.</a>
                        </p>
                        <p>
                           Webpage: <a target="_blank" href="https://validation.brainsimulation.eu/view/tests/1">https://validation.brainsimulation.eu/<strong><big>view</big></strong>/tests/1</a><br />
                           JSON form: <a target="_blank" href="https://validation.brainsimulation.eu/tests/1">https://validation.brainsimulation.eu/tests/1</a>
			</p>
                        <p>
                           Therefore the metadata, i.e, a test definition in the HVF comprises:
	                   <ul>
                 		<li>location of the coded test function, and</li>
		                <li>location of the experimental data.</li>
		           </ul>
                        </p>
                        <hr>
			<p>
                            <table style="width:100%">
                               <tr>
                                  <td style="border-bottom: 1px solid #ddd;">
                                     <div class="Figs" onclick="enlargeImage('1')">
				        <img src="imgs/installtesthippounit.gif" alt="Install sciunit"  class="FloatRight" />
			             </div>
                                     Based on the metadata the repository of the desired validation test is in <a target="_blank" href="https://github.com/apdavison/hippounit.git">https://github.com/apdavison/hippounit.git</a>.<br />
                                     &nbsp;<br />
                                     Therefore to later run the desired validation test, <code>hippounit</code> should be installed. This is done as follows<br />
                                     &nbsp;<br />
                                     <code>>>&nbsp;!pwd</code><br />
                                     <code>>>&nbsp;/local/notebook</code><br />
                                     <code>>>&nbsp;!git clone https://github.com/apdavison/hippounit</code><br />
                                     Above step will create a directory 'hippounit', i.e, <code>/local/notebook/hippounit</code>. To check type<br />
                                     <code>>>&nbsp;ls</code><br />
                                     &nbsp;<br />
                                     Assuming you are in the parent directory of hippounit, type the command below to install hippounit<br />
                                     &nbsp;<br />
                                     <code>>>&nbsp;!pip install ./hippounit</code><br />
                                     &nbsp;
                                     </ul>
                                  </td>
                               </tr>
                               <tr>
                                  <td style="border-bottom: 1px solid #ddd;">
                                     <div class="Figs" onclick="enlargeImage('2')">
				        <img src="imgs/loadtestdef1.gif" alt="Install sciunit"  class="FloatRight" />
			             </div>
                                     &nbsp;<br />
			             For our desired test in the JSON form, we can call it as follows<br />
                                     <code>>>&nbsp;desired_test_uri&nbsp;=&nbsp;"https://validation.brainsimulation.eu/tests/1"</code><br />
                                     &nbsp;
                                  </td>
                               </tr>
                               <tr>
                                  <td style="border-bottom: 1px solid #ddd;">
                                     <div class="Figs" onclick="enlargeImage('3')">
				        <img src="imgs/loadtestdef2.gif" alt="Install sciunit"  class="FloatRight" />
			             </div>
                                     &nbsp;<br />
                                     However for this to be of any practical use in running the validation the above test URI must be broken down (i.e, dowload test definition) using the hbp-validation-framework as follows,<br />
			             <strong>Call the ValidationTestLibrary Class which has the methods for breaking down the test URI. Then login to the HBP Validation Test Library (you will need an account).</strong><br />
                                     <code>>>&nbsp;from&nbsp;hbp_validation_framework&nbsp;import&nbsp;ValidationTestLibrary</code><br />
                                     <code>>>&nbsp;test_library&nbsp;=&nbsp;ValidationTestLibrary(username="<name_here>")</code><br />
                                     &nbsp;
                                  </td>
                               </tr>
                               <tr>
                                  <td style="border-bottom: 1px solid #ddd;">
                                     <div class="Figs" onclick="enlargeImage('4')">
				        <img src="imgs/loadtestdef3.gif" alt="Install sciunit"  class="FloatRight" />
			             </div>
                                     &nbsp;<br />
                                     To answer <strong>What is the name of validation test with respect to the HBP test library?</strong><br />
                                     <code>>>&nbsp;test&nbsp;=&nbsp;test_library.get_validation_test((desired_test_uri))</code><br />
                                     &nbsp;
                                  </td>
                               </tr>
                            </table>
			</p>
                        <p>
                           Therefore the data for validation is added and the validation test (v-test) itself is instantiated as a test (called Depolarization block test). The function 'test' is now ready to accept model into its argument and run this particular v-test (Depolarization block test).
                        </p>
                        <p>&nbsp;</p>
                        <hr>
                        <p>&nbsp;</p>
			<p>
                            <table style="width:100%">
                               <tr>
                                  <td>
                                     <div class="Figs" onclick="enlargeImage('5')">
				        <img src="imgs/loadtestdef4.gif" alt="Install sciunit"  class="FloatRight" />
			             </div>
                                     Additionally (miscellaneous) if the user wants to know the platform on which you intend to run the validation test,<br />
                                     <code>>>&nbsp;print test_library.get_platform()</code><br />
                                  </td>
                               </tr>
                            </table>
			</p>
			<p>&nbsp;</p>
                        <hr>
                        <p>
                            Note that for this walkthrough (running validation test for some available hippocampal models) two packages are required.
                            <ul>
                               <li>Package name: hippocampus_CA1_pyramidal<br />
                                   Package purpose: contains hippocampal model from which we can choose to run the validation-tests in the hippounit package.</li>
                               <li>Package name: hippounit<br />
                                   Package purpose: contains validation-test python functions.</li>
                            </ul>
                        </p>
                        <p>
                            The former package is loaded in <a href="getModel.html">Choosing and Loading a Model.</a> and the later package is loaded here.<br />

                           [<small>Notice that the Blue Brain "hippounit" available in <a target="_blank" href="https://github.com/BlueBrain/neuronunit">https://github.com/BlueBrain/neuronunit</a> has been divided into two parts. Models in <a target="_blank" href="https://github.com/apdavison/hippocampus_CA1_pyramidal">https://github.com/apdavison/hippocampus_CA1_pyramidal</a> and Tests in <a target="_blank" href="https://github.com/apdavison/hippounit">https://github.com/apdavison/hippounit</a></small>]
                        </p>
			<p>&nbsp;</p>
		</div>
		<script type="text/javascript" src="clearlink_togglevisibility.js"></script>
		<noscript><p>Welcome, non-JavaScript-enabled browser.</p></noscript>
      </div>
   </body>
</html>
